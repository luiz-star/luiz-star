<!-- Responsive SVG: AWS Lakehouse (Governança) -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 740" role="img" aria-labelledby="title desc" style="max-width:100%; height:auto; background:#0d1117;">
  <title id="title">AWS Lakehouse com Governança</title>
  <desc id="desc">Fluxo de produtores para data lake em S3 (Bronze, Silver, Gold) com catálogo, governança, consulta e consumo, incluindo observabilidade e auditoria.</desc>

  <style>
    :root { --bg:#0d1117; --panel:#161b22; --stroke:#30363d; --text:#e6edf3; --muted:#9aa4b2; --accent:#1f6feb; --ok:#238636; }
    text, tspan { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; fill: var(--text); font-size:14px; }
    .title { font-weight:700; font-size:20px; }
    .subtitle { fill: var(--muted); font-size:13px; }
    .box { fill: var(--panel); stroke: var(--stroke); stroke-width:1.2; rx:8; ry:8; }
    .lane { fill: none; stroke: var(--stroke); stroke-width:1; stroke-dasharray:4 4; }
    .arrow { stroke: var(--muted); stroke-width:1.4; marker-end: url(#arrow); }
    .arrow-strong { stroke: var(--accent); stroke-width:2; marker-end: url(#arrowStrong); }
    .pill { fill: #0b1220; stroke: var(--accent); stroke-width:1.1; rx:12; ry:12; }
    .tag { fill: #0f1a10; stroke: var(--ok); stroke-width:1; rx:10; ry:10; }
    .label { fill: var(--muted); font-size:12px; }
  </style>

  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#9aa4b2"/>
    </marker>
    <marker id="arrowStrong" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="9" markerHeight="9" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#1f6feb"/>
    </marker>
  </defs>

  <!-- Título -->
  <text x="24" y="36" class="title">AWS Lakehouse (Governança)</text>
  <text x="24" y="58" class="subtitle">Produtores → Ingestão → S3 (Bronze/Silver/Gold) → Catálogo/Governança → Consulta → BI/Consumo → Observabilidade</text>

  <!-- Lanes verticais para leitura -->
  <path d="M160 80 V700" class="lane"/>
  <path d="M360 80 V700" class="lane"/>
  <path d="M560 80 V700" class="lane"/>
  <path d="M760 80 V700" class="lane"/>

  <!-- Coluna 1: Produtores -->
  <rect x="40" y="100" width="220" height="120" class="box"/>
  <text x="150" y="130" text-anchor="middle">Produtores</text>
  <text x="150" y="155" text-anchor="middle" class="label">Apps • APIs • DBs</text>
  <text x="150" y="175" text-anchor="middle" class="label">Batch • CDC • IoT</text>

  <!-- Ingestão -->
  <rect x="40" y="260" width="220" height="140" class="box"/>
  <text x="150" y="290" text-anchor="middle">Ingestão</text>
  <g class="label" text-anchor="middle">
    <text x="150" y="315">AWS DMS (CDC)</text>
    <text x="150" y="335">Glue Jobs (Batch)</text>
    <text x="150" y="355">Lambda • Kinesis</text>
  </g>

  <!-- setas coluna 1 -> 2 -->
  <line x1="260" y1="160" x2="360" y2="160" class="arrow"/>
  <line x1="260" y1="330" x2="360" y2="330" class="arrow-strong"/>

  <!-- Coluna 2: Data Lake S3 -->
  <rect x="360" y="120" width="240" height="430" class="box"/>
  <text x="480" y="150" text-anchor="middle">Data Lake — Amazon S3</text>

  <!-- Bronze -->
  <rect x="380" y="180" width="200" height="90" class="box"/>
  <text x="480" y="205" text-anchor="middle">Bronze (Raw)</text>
  <text x="480" y="230" text-anchor="middle" class="label">Dados brutos, esquema flexível</text>

  <!-- Silver -->
  <rect x="380" y="290" width="200" height="90" class="box"/>
  <text x="480" y="315" text-anchor="middle">Silver (Curated)</text>
  <text x="480" y="340" text-anchor="middle" class="label">Limpeza • Conformidade</text>

  <!-- Gold -->
  <rect x="380" y="400" width="200" height="90" class="box"/>
  <text x="480" y="425" text-anchor="middle">Gold (Serving)</text>
  <text x="480" y="450" text-anchor="middle" class="label">Marts • KPIs • SLAs</text>

  <!-- setas ingestão -> bronze -->
  <line x1="260" y1="330" x2="380" y2="225" class="arrow"/>

  <!-- Coluna 3: Catálogo / Governança -->
  <rect x="620" y="180" width="280" height="150" class="box"/>
  <text x="760" y="205" text-anchor="middle">Catálogo & Governança</text>
  <g class="label" text-anchor="middle">
    <text x="760" y="230">Glue Data Catalog</text>
    <text x="760" y="250">Lake Formation (LF-Tags)</text>
    <text x="760" y="270">IAM • S3 Policies</text>
  </g>

  <!-- Ligações S3 -> Catálogo/Gov -->
  <line x1="580" y1="225" x2="620" y2="225" class="arrow"/>
  <line x1="580" y1="335" x2="620" y2="335" class="arrow"/>
  <line x1="580" y1="445" x2="620" y2="265" class="arrow"/>

  <!-- Consulta/Processamento -->
  <rect x="620" y="360" width="280" height="120" class="box"/>
  <text x="760" y="385" text-anchor="middle">Consulta / Processamento</text>
  <g class="label" text-anchor="middle">
    <text x="760" y="408">Athena • Redshift • EMR/Spark • Glue</text>
  </g>

  <!-- Ligações S3 -> Consulta -->
  <line x1="580" y1="335" x2="620" y2="395" class="arrow"/>
  <line x1="580" y1="445" x2="620" y2="420" class="arrow"/>

  <!-- Consumo -->
  <rect x="620" y="500" width="280" height="110" class="box"/>
  <text x="760" y="525" text-anchor="middle">BI / Consumo</text>
  <g class="label" text-anchor="middle">
    <text x="760" y="548">QuickSight • Apps • APIs • Exports</text>
  </g>

  <!-- Observabilidade -->
  <rect x="360" y="570" width="240" height="110" class="box"/>
  <text x="480" y="595" text-anchor="middle">Observabilidade & Auditoria</text>
  <g class="label" text-anchor="middle">
    <text x="480" y="618">CloudWatch • CloudTrail • Logs</text>
  </g>

  <!-- setas consulta -> consumo / obs -->
  <line x1="760" y1="480" x2="760" y2="500" class="arrow"/>
  <line x1="760" y1="555" x2="600" y2="600" class="arrow"/>

  <!-- Pills de políticas/qualidade -->
  <rect x="392" y="505" width="88" height="28" class="pill"/>
  <text x="436" y="524" text-anchor="middle" class="label">DQ/Qualidade</text>

  <rect x="500" y="505" width="88" height="28" class="pill"/>
  <text x="544" y="524" text-anchor="middle" class="label">Segurança</text>

  <!-- Etiquetas de lanes -->
  <text x="160" y="92" text-anchor="middle" class="label">Origem</text>
  <text x="360" y="92" text-anchor="middle" class="label">Dados</text>
  <text x="560" y="92" text-anchor="middle" class="label">Governança</text>
  <text x="760" y="92" text-anchor="middle" class="label">Serviço</text>
</svg>
